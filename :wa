const SHORT_REST = '45'

const SHORT_SET = 2
const LONG_SET = 3

const DAY_A = 'a'
const DAY_B = 'b'
const DAY_C = 'c'

const img = (fileName) => `../assets/exercises/${fileName}`

const exercises = [
  // day A
  {
    day: DAY_A,
    name: 'Bodyweight Squats',
    label: 'Squat',
    hints: [
      'Esegui la variante con o senza bilanciere a seconda della difficoltà.'
    ],
    instructions: [],
    warnings: [],
    images: [
      {
        label: 'Base',
        src: img('squat.gif'),
        open: false
      },
      {
        label: 'Con bilanciere',
        src: img('squat-w-barbell.gif'),
        open: true
      },
    ],
    rest: SHORT_REST,
    sets: LONG_SET,
    reps: '10',
    weight: 'Bilanciere',
  },
  {
    day: DAY_A,
    name: 'Dumbbell Glute Bridges',
    label: 'Ponte',
    instructions: [
      'Posiziona il peso all\'altezza dell\'anca. Non farlo scivolare lungo l\'addome mentre esegui l\'esercizio!',
    ],
    hints: [],
    warnings: [],
    images: [
      {
        label: 'Base',
        src: img('glutes-bridge.gif'),
        open: true
      }
    ],
    rest: SHORT_REST,
    sets: LONG_SET,
    reps: '10',
    weight: '10kg'
  },
  {
    day: DAY_A,
    name: 'Side Leg Raises',
    label: 'Alzata di gamba laterale',
    instructions: [
      'Cerca di mantenere la gamba tesa, e abbassala lentamente.',
      'Una singola ripetizione è composta da una serie su entrambe le gambe!',
      'Non serve fare una pausa fra una gamba e l\'altra. Quindi: 8 gamba destra + 8 gamba sinistra, pausa, 8+8, pausa, 8+8.',
    ],
    hints: [
      'Non serve andare in alto come la tizia, quella è matta.',
    ],
    warnings: [],
    images: [
      {
        label: 'Base',
        src: img('side-leg-raise.gif'),
        open: true

      }
    ],
    rest: SHORT_REST,
    sets: LONG_SET,
    reps: '10 per gamba (gamba destra + gamba sinistra contano come un solo set!)',
    weight: null,
  },
  {
    day: DAY_A,
    name: 'Seated Calf Raises',
    label: 'Alzata di polpaccio',
    instructions: [],
    hints: [
      'Non è necessario che il tallone tocchi arrivi a toccare a terra nella fase di discesa.',
      'Esegui la variante con o senza i manubri a seconda della difficoltà.'
    ],
    warnings: [],
    images: [
      {
        label: 'Base',
        src: img('calf-raises.gif'),
        open: false

      },
      {
        label: 'Con manubri',
        src: img('calf-raises-w-dumbbell.gif'),
        open: true

      }
    ],
    rest: SHORT_REST,
    sets: LONG_SET,
    reps: '10',
    weight: '2kg per mano'
  },
  // day B
  {
    day: DAY_B,
    name: 'Dumbbell Bicep Curls',
    label: 'Curl',
    instructions: [
      'Tieni i gomiti vicini al corpo.',
    ],
    hints: [
      'Se più comodo, puoi ruotare i polsi durante il movimento.'
    ],
    warnings: [
      'Non inclinare la schiena indietro! Se non riesci, non fare l\'esercizio, o togli'
      + ' il peso'
    ],
    images: [
      {
        label: 'Base',
        src: img('curl.gif'),
        open: false
      },
      {
        label: 'Con rotazione dei posii',
        src: img('curl-with-rotation.gif'),
        open: true
      }
    ],
    rest: SHORT_REST,
    sets: LONG_SET,
    reps: '8',
    weight: '2kg',
  },
  {
    day: DAY_B,
    name: 'Dumbbell Shoulder Press',
    label: 'Spinte',
    instructions: [
    ],
    hints: [
      'Puoi eseguire l\'esercizio sia seduta che in piedi.',
      'Cerca di abbassare i manubri lentamente.'
    ],
    warnings: [],
    images: [
      {
        label: 'Con manubri',
        src: img('dumbbell-shoulder-press.gif'),
        open: false,
      },
      {
        label: 'Con bilanciere',
        src: img('barbell-shoulder-press.gif'),
        open: true,
      }
    ],
    rest: SHORT_REST,
    sets: LONG_SET,
    reps: '8',
    weight: 'Bilanciere',
  },
  {
    day: DAY_B,
    name: 'Dumbbell Side Raises',
    label: 'Alzate laterali',
    instructions: [
      'Mantieni le braccia leggermente piegate.'
    ],
    hints: [],
    warnings: [],
    images: [
      {
        label: 'Base',
        src: img('side-raises.gif'),
        open: true,
      }
    ],
    rest: SHORT_REST,
    sets: SHORT_SET,
    reps: '10',
    weight: '1kg o senza',
  },
  {
    day: DAY_B,
    name: 'Dumbbell Rear Delt Squeeze',
    label: 'Croci inverse',
    instructions: [],
    warnings: [
      'Tieni la schiena dritta! Se non riesci, non fare l\'esercizio, o togli il peso'
    ],
    images: [
      {
        label: 'Base',
        src: img('rear-deltoid-lift.gif'),
        open: true
      }
    ],
    rest: SHORT_REST,
    sets: SHORT_SET,
    reps: '5',
    weight: '2kg',
  },
  // day C
  {
    day: DAY_C,
    name: 'Russian Twists',
    label: 'Twist russi',
    instructions: [],
    hints: [
      'Esegui la variante con o senza i manubri a seconda della difficoltà.'
    ],
    warnings: [],
    images: [
      {
        label: 'Base',
        src: img('russian-twist.gif'),
        open: false
      },
      {
        label: 'Esempio con manubri',
        src: img('russian-twist-w-dumbbell.gif'),
        open: true
      }
    ],
    rest: SHORT_REST,
    sets: LONG_SET,
    reps: '20 twist (10 per lato)',
    weight: '2kg (senza manubrio: solo il disco o i due pesetti insieme)',
  },
  {
    day: DAY_C,
    name: 'Plank Hold',
    label: 'Plank',
    instructions: [],
    hints: [
      'Tieni la schiena dritta!'
    ],
    warnings: [],
    images: [
      {
        label: 'Base',
        src: img('plank.jpg'),
        open: true
      }
    ],
    rest: SHORT_REST,
    sets: SHORT_SET,
    hold: '60 secondi',
    weight: null,
  },
  {
    day: DAY_C,
    name: 'Side Plank Hold',
    label: 'Plank laterale',
    instructions: [],
    hints: [],
    warnings: [],
    images: [
      {
        label: 'Base',
        src: img('side-plank.jpg'),
        open: true
      }
    ],
    rest: SHORT_REST,
    sets: SHORT_SET,
    hold: '45 secondi per lato',
    weight: null,
  },
  {
    day: DAY_C,
    name: 'Wall Sit',
    label: 'Sedia al muro',
    instructions: [],
    hints: [
      'Esegui la variante con o senza i manubri a seconda della difficoltà.',
      'Tieni le braccia come vuoi, specie nella variante senza manubri.',
    ],
    warnings: [],
    images: [
      {
        label: 'Base',
        src: img('wall-sit.jpg'),
        open: false
      },
      {
        label: 'Con manubri',
        src: img('wall-sit-w-dumbbell.jpg'),
        open: true
      }
    ],
    rest: SHORT_REST,
    sets: SHORT_SET,
    hold: '45 secondi',
    weight: '2kg per mano',
  },
]

const list = document.querySelector('#exerciseList')
const tabsContainer = document.querySelector('#filterTabs')
const tabs = tabsContainer.querySelectorAll('.tab')

const loadExercises = (inputDay) => {
  exercises
    .filter(({ day }) => day === inputDay)
    .forEach(({
      instructions, hints, warnings, images, label, rest, sets, reps, hold, weight
    }, idx) => {
      const li = document.createElement('li')

      const item = document.createElement('exercise-item')
      item.setAttribute('label', `${idx + 1}. ${label}`)
      reps && item.setAttribute('reps', reps)
      hold && item.setAttribute('hold', hold)
      sets && item.setAttribute('sets', sets)
      rest && item.setAttribute('rest', rest)
      weight && item.setAttribute('weight', weight)
      instructions && item.setAttribute('instructions', JSON.stringify(instructions))
      hints && item.setAttribute('hints', JSON.stringify(hints))
      warnings && item.setAttribute('warnings', JSON.stringify(warnings))
      images && item.setAttribute('images', JSON.stringify(images))

      li.appendChild(item)
      list.appendChild(li)
    })
}

const onTabClick = (tab_el) => {
  tabs.forEach(d => d.classList.remove('selected'))
  tab_el.classList.add('selected')

  list.innerHTML = ""
  const selectedDay = tab_el.id
  loadExercises(selectedDay)
}

loadExercises(DAY_A)
tabs.forEach((tab_el) =>
  tab_el.addEventListener('click', () => onTabClick(tab_el))
)

